<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>


    <script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/3.4.0/echarts.js"></script>


    <script>

        $(function () {
            $.ajax({
                type: "GET",
                url: "../data/chardata.json",
                dataType: "json",
                success: function (data) {
                    if (data.length > 0) {
                        var j = 0;
                        for (var pos in data) {
                            var result = data[pos];
                            var a = {
                                tooltip: {
                                    trigger: "axis",
                                    formatter: function (params) {
                                        var obj = JSON.parse(JSON.stringify(params))
                                        var itemName = obj[0].name;
                                        var str = "<div class=\"tooltip-tit\">" + itemName + "</div>";
                                        var fsize = 12,
                                            changeWid = 120;
                                        if (obj[0].seriesName.length <= 5) {
                                            changeWid = 100;
                                        } else {
                                            changeWid = 120;
                                        }
                                        for (var i = 0; i < obj.length; i++) {
                                            if (obj[i].value == undefined) {
                                                obj[i].value = '-';
                                            }
                                            str = str + "<div class=\"tooltip-data\" style=\"width:"
                                                + changeWid + "px;\"><b style=\"color: "
                                                + obj[i].color + ";\"> &bull;</b><i style=\"width:"
                                                + (changeWid - 30) + "px;\">" + obj[i].seriesName + ":" + obj[i].value + "</i>";
                                            str += "</div>";

                                        }
                                        return '<div style="font-size:' + fsize + 'px">' + str + '</div>';
                                    },
                                    position: ['5%', '5%']
                                },
                                toolbox: {
                                    right: "0px",
                                    show: true,
                                    feature: {
                                        saveAsImage: {
                                            show: true
                                        }
                                    }
                                },
                                legend: {
                                    data: [],
                                    top: '10px',
                                    right: '50px',
                                    left: '50px'
                                },
                                grid: {
                                    x: 40,
                                    x2: 40,
                                    y2: 24
                                },
                                xAxis: [{
                                    type: "category",
                                    boundaryGap: !1,
                                    data: [],
                                    splitLine: {
                                        show: false
                                    }
                                }],
                                yAxis: [{
                                    type: "value",
                                    axisLabel: {
                                        formatter: "{value}"
                                    }
                                }],
                                series: []
                            };
                            //////////////////////////////
                            a.legend.data = result.legend;
                            a.xAxis[0].data = result.category;
                            if (result.series) {
                                for (var i = 0; i < result.series.length; i++) {
                                    var arr = {
                                        name: result.series[i].name,
                                        type: result.series[i].type,
                                        data: result.series[i].data,
                                        showSymbol: true,
                                        legendHoverLink: true,
                                        hoverAnimation: false
                                    };
                                    a.series.push(arr);
                                }

                                var chartId = "dataChart" + j;
                                var rankHtml = "<div class='row'>" +
                                    "    <div class='col-sm-12'>" +
                                    "         <div class='ibox float-e-margins'>" +
                                    "             <div class='ibox-content'>" +
                                    "                 <div class='echarts' style='width: 1024px;height: 200px' id='" + chartId + "'></div>" +
                                    "             </div>" +
                                    "         </div>" +
                                    "    </div>" +
                                    " </div>";
                                $("#allCharts").append(rankHtml);
                                var e1 = echarts.init(document.getElementById(chartId));
                                e1.hideLoading();
                                e1.setOption(a);
                                j++;
                            }
                        }
                    }

                }
            });
        })
    </script>

</head>
<body>
<div id="allCharts" style="width: 1024px;height: auto;border: 1px solid skyblue"></div>
</body>
</html>